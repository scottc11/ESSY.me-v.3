{% extends 'base.html' %}
{% load static %}


{% block content %}
<section class="margin-top-20">

  <article class="project__container col-xs-12">

    <!-- project thumbnail -->
    <div class="project__header">
      <div class="project__header--bg" style="background-image: url({{ project.thumbnail.url }})"></div>
      <div class="project__header--heading">
        <h1>{{ project.title }}</h1>
        <br>
        <h4>{{ project.sub_title }}</h4>
      </div>
    </div>
    <!-- /project thumbnail -->

    <time class="sidebar__summary--date">{{ project.pub_date|date:"M d Y" }}</time>

    <div class="">
      <a href="{{ project.github }}" target="_blank" title="github repository"><h3 class="fab fa-github"></h3></a>
    </div>

    <div class="project__tech">
      <h4>technologies</h4>
      <ul>
        {% for tech in project.technologies.all %}
        <a href="{{ tech.link }}" target="_blank">
          <li class="pill">
          {{ tech.name }}
          </li>
        </a>
        {% endfor %}
      </ul>
    </div>

    <div class="project__body">
      <hr class="custom-hr">
      <p>{{ project.idea }}</p>
      <p>{{ project.body }}</p>
      <p>{{ project.end_goal }}</p>
    </div>

    {% for post in project.post_set.all %}
    <div class="project__post">

      <div class="project__post--header">
        <h4>{{ post.title }}</h4>
        <br>
        <h5>{{ post.pub_date }}</h5>
      </div>
    </div>


    {% if post.images.all %}

      <div class="project__post__images">
        {% for image in post.images.all %}
        <div class="project__post--img">
          <img src="{{ image.image.url }}" onclick="openModal('{{ image.image.url }}')" />
        </div>
        {% endfor %}
      </div>

    {% endif %}

    <div class="post__body">
      <p>{{ post.body|safe }}</p>
    </div>
    {% endfor %}
  </article>

  <div id="myModal" class="modal" onclick="closeModal()">
    <div class="modal-content" onclick="closeModal()">
      <img id="modal-image" src="" style="width:100%" onclick="closeModal()">
    </div>
  </div>

</section>
{% endblock %}
